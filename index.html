<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#0f172a" />
    <title>MindMap Studio</title>
    <link rel="stylesheet" href="/src/styles.css" />
  </head>
  <body>
    <div id="app">
      <header class="topbar">
        <h1>MindMap Studio</h1>
        <div class="toolbar">
          <button id="add-child">+ Child</button>
          <button id="add-sibling">+ Sibling</button>
          <button id="add-floating">+ Floating</button>
          <button id="duplicate-node">Duplicate</button>
          <button id="toggle-collapse">Collapse branch</button>
          <button id="focus-mode">Focus</button>
          <button id="relation-mode">Relation: Off</button>
          <button id="layout-mindmap">MindMap âŸ·</button>
          <button id="layout-horizontal">Tree â†”</button>
          <button id="layout-vertical">Tree â†•</button>
          <button id="templates">Templates</button>
          <button id="command-palette">âŒ˜K</button>
          <button id="zoom-in">+</button>
          <button id="zoom-out">âˆ’</button>
          <button id="fit-view">Fit</button>
          <button id="undo">Undo</button>
          <button id="redo">Redo</button>
          <button id="export-map">Export JSON</button>
          <button id="export-md">Export MD</button>
          <label class="file-label">Import JSON<input id="import-map" type="file" accept="application/json" /></label>
          <label class="file-label">Import MD<input id="import-md" type="file" accept="text/markdown,.md,text/plain" /></label>
          <button id="reset-map">Reset</button>
          <button id="toggle-theme">ðŸŒ™</button>
        </div>
      </header>

      <main class="layout">
        <section id="canvas-wrap">
          <div class="canvas-hud">
            <input id="search-node" type="search" placeholder="Search node..." />
            <span id="status"></span>
          </div>
          <div id="viewport">
            <svg id="edges"></svg>
            <div id="canvas"></div>
          </div>
        </section>

        <aside class="sidepanel">
          <h2>Topic details</h2>
          <div class="editor">
            <label>Label<input id="node-label" type="text" placeholder="Topic title" /></label>
            <label>Notes<textarea id="node-note" rows="5" placeholder="Details, todos, links..."></textarea></label>
            <label>Color<input id="node-color" type="color" /></label>
            <label>Priority
              <select id="node-priority">
                <option value="0">None</option>
                <option value="1">P1</option>
                <option value="2">P2</option>
                <option value="3">P3</option>
                <option value="4">P4</option>
                <option value="5">P5</option>
              </select>
            </label>
            <label>Progress <span id="progress-label">0%</span>
              <input id="node-progress" type="range" min="0" max="100" step="10" value="0" />
            </label>
            <button id="delete-node" class="danger">Delete topic</button>
          </div>
          <div class="tips">
            <h3>XMind-style workflow</h3>
            <ul>
              <li>Use <strong>Floating</strong> topics for detached ideas.</li>
              <li>Enable <strong>Relation mode</strong>, then click 2 topics to create relationships.</li>
              <li>Use <strong>MindMap âŸ·</strong> for balanced left/right layout from the central topic.</li>
            </ul>
          </div>
        </aside>
      </main>
    </div>

    <dialog id="templates-dialog" class="modal">
      <h3>Start from template</h3>
      <div class="modal-actions">
        <button data-template="project">Project Planning</button>
        <button data-template="study">Study Notes</button>
        <button data-template="content">Content Strategy</button>
      </div>
      <button id="close-templates" class="ghost">Close</button>
    </dialog>

    <dialog id="command-dialog" class="modal">
      <h3>Command palette</h3>
      <input id="command-search" type="search" placeholder="Type a command..." />
      <div id="command-list" class="command-list"></div>
      <button id="close-command" class="ghost">Close</button>
    </dialog>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
